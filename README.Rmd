---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# fwlplot

<!-- badges: start -->
<!-- badges: end -->

This is a super simple package to help make scatter plots of two variables after residualizing by covariates. This package uses `fixest` so things are super fast.

## Installation

You can install the development version of fwlplot like so:

``` r
devtools::install_github("kylebutts/fwlplot")
```

## Example

Here's a simple example with fixed effects removed by `fixest`.
```{r}
library(fwlplot)
library(fixest)

fwl_plot(mpg ~ hp, data = mtcars)

fwl_plot(mpg ~ hp + wt | cyl, data = mtcars, vcov = "hc1")
```

This is meant to (as much as possible) be a drop in replacement for `fixest::feols`. You should be able to replace `feols` with `fwl_plot` and get a plot.

```{r}
fwl_plot(mpg ~ hp + wt | cyl, data = mtcars, vcov = ~cyl)
fwl_plot(mpg ~ hp + wt, data = mtcars, subset = (mtcars$cyl == 4))

mtcars$w = runif(nrow(mtcars), 0.1, 0.9)
fwl_plot(mpg ~ hp + wt, data = mtcars, weights = ~w)
```

`ggplot` works too!

```{r}
library(ggplot2)
fwl_plot(mpg ~ hp + wt | cyl, data = mtcars, ggplot = TRUE) + 
  theme_bw(base_size = 14)
```
